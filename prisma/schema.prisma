generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Lead {
  id             String   @id @default(cuid())
  createdAt      DateTime @default(now())

  age            Int
  gender         String
  smokerStatus   String
  healthClass    String
  coverageAmount Int
  termLength     Int

  ratesShown     String   // JSON string of CarrierQuote[]

  firstName      String
  email          String
  phone          String
  zip            String

  consentGiven   Boolean
  consentText    String
  consentAt      DateTime
  ipAddress      String

  webhookSent    Boolean   @default(false)
  webhookSentAt  DateTime?
  buyerId        String?

  // UTM tracking for ad attribution
  utmSource      String?
  utmMedium      String?
  utmCampaign    String?
  utmContent     String?
  utmTerm        String?
  gclid          String?
  fbclid         String?
  referrer       String?
  landingPage    String?
}
